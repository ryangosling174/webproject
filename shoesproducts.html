<!DOCTYPE html>
<html>
<head>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dropshipping Products</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;700&display=swap');
        body {
            font-family: 'Inter', sans-serif;
            background-color: #faf2f2;
        }

        .product-card-bg {
            background-color: #ad9b9b;
            filter: blur(1.8px);
            transition: filter 0.3s ease;
        }
        .product-card-bg:hover {
            filter: blur(0px);
            
        }
        
        /* The modal (background) */
        .modal {
            display: none; /* Hidden by default */
            position: fixed; /* Stay in place */
            z-index: 1000; /* Sit on top */
            left: 0;
            top: 0;
            width: 100%; /* Full width */
            height: 100%; /* Full height */
            overflow: auto; /* Enable scroll if needed */
            background-color: rgba(213, 200, 200, 0.4);
            backdrop-filter: blur(4px);
        }

        /* Modal Content/Box */
        .modal-content {
            background-color: #d2caca;
            margin: 10%; /* 10% from the top and centered */
            padding: 20px;
            border: 1px solid #ffffff;
            width: 90%; /* Could be more or less, depending on screen size */
            max-width: 450px;
            border-radius: 12px;
            box-shadow: 0 10px 25px rgba(34, 32, 32, 0.15);
        }

        body {
            font-family: 'Inter', sans-serif;
            background-color: #f3f4f6;
        }
        input[type="email"], input[type="text"], input[type="tel"] {
            border: 1px solid #ccc;
            border-radius: 8px;
            padding: 12px;
            width: 100%;
        }
        .background {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-image: url(Jordan\.jpg);
            filter: blur(5px);
            background-repeat: no-repeat;
            background-size: cover;
            z-index: -1;
        }
        div.container { /* removed white bar */
            background-color: transparent;
        }

        h1.text-3xl{
            color: #dbc7c7;
        }
        p.text-black-500{
            color: #dbc7c7;
        }
        label.text-gray-600{
            color: #dbc7c7;
        }
        span#liveClock{
            color: #cfd6e4;
        }
        span#selectedCount{
            color: #cfd6e4;
        }
        button.px-5{
            color: #cfd6e4;
        }
    </style>
</head>
<body class="bg-black-200">
    <div class="background"></div>
    <!-- Main Content Area -->
    <div class="container mx-auto p-6 md:p-10 rounded-lg shadow-xl max-w-4xl mt-10 mb-10">
        <header class="text-center mb-8">
            <div class="flex items-center justify-between mb-4">
                <a href="barcode.html" class="px-4 py-2 bg-blue-600 text-white font-semibold rounded-lg hover:bg-blue-700 transition-colors duration-200 text-sm">‚Üê Go Back</a>
                <span id="liveClock" class="text-xl font-mono text-gray-700"></span>
            </div>
            <h1 class="text-3xl font-bold text-gray-800">
                MAKE YOUR DAY BETTER KIDDO
            </h1>
            <p class="text-black-500 mt-4">The creator of this web just want you be better than you yesterday so you can life a better life that you want to in the future.<a href="#" class="text-blue-600 hover:underline">better Generation start by you twin!</a></p>
        </header>

        <div class="flex flex-col md:flex-row items-center justify-between mb-6 space-y-4 md:space-y-0">
            <div class="flex items-center space-x-2">
                <label for="featured-categories" class="text-gray-600">Featured categories:</label>
                <select id="featured-categories" class="rounded-md border border-gray-300 p-2 text-gray-700">
                    <option value="mostbuy">most buy</option>
                    <option value="vintage">Vintage</option>
                    <option value="normalbuy">normal buy</option>
                </select>
            </div>
            <div class="flex items-center space-x-2 text-gray-600">
                <span id="selectedCount" class="text-base font-medium">0 selectedProducts</span>
            </div>
        </div>

        <div id="productsGrid" class="grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 gap-4">
            <!-- Product Cards will be dynamically inserted here -->
        </div>

        <div class="flex justify-end items-center mt-6 space-x-3">
            <button class="px-5 py-2 text-gray-700 font-medium transition-colors duration-200" style="background:none;border:none;border-radius:0;">Digital-Market</button>
            <button id="addToCartBtn" class="px-6 py-3 rounded-full bg-blue-600 text-white font-semibold shadow-md hover:bg-blue-700 transition-colors duration-200">add to cart</button>
        </div>
    </div>
    
    <!-- The Cart Modal -->
    <div id="cartModal" class="modal">
        <div class="modal-content">
            <div class="flex justify-between items-center pb-4 border-b border-gray-200">
                <h2 class="text-xl font-semibold text-gray-800">Your Cart</h2>
                <button id="closeCartBtn" class="text-gray-500 hover:text-gray-800 text-3xl font-light leading-none transition-colors duration-200">&times;</button>
            </div>
            
            <div id="cartItemsContainer" class="py-4 space-y-4">
                <!-- Cart items will be dynamically added here -->
            </div>

            <div class="border-t border-gray-200 pt-4 mt-4">
                <div class="flex justify-between items-center text-gray-600">
                    <span>Shipping</span>
                    <span>Calculated at next step</span>
                </div>
                <div class="flex justify-between items-center font-bold text-lg mt-2">
                    <span>Estimated total</span>
                    <span id="totalPrice">$0.00 USD</span>
                </div>
            </div>
            
            <div class="flex flex-col space-y-3 mt-6">
                <a href="checkout.html"><button class="w-full py-3 rounded-lg bg-blue-600 text-white font-bold shadow-lg hover:bg-blue-700 transition-colors duration-200">Checkout</button></a> 
                <a href="#" id="continueShoppingLink" class="text-center text-blue-600 hover:underline">Continue Shopping</a>
            </div>
            <div class="flex flex-col space-y-3 mt-6">
                <a href="mostbuy.html"><button class="w-full py-3 rounded-lg bg-blue-600 text-white font-bold shadow-lg hover:bg-blue-700 transition-colors duration-200">most buy</button></a>
            </div>
        </div>
    </div>

    <!-- Message box for user feedback -->
    <div id="messageBox" class="fixed top-5 left-1/2 transform -translate-x-1/2 bg-gray-800 text-white px-6 py-3 rounded-full shadow-lg transition-all duration-500 ease-in-out opacity-0 invisible z-50"></div>
    <script>
        function updateClock() {
            const now = new Date();
            let hours = now.getHours();
            const minutes = String(now.getMinutes()).padStart(2, '0');
            const seconds = String(now.getSeconds()).padStart(2, '0');
            const ampm = hours >= 12 ? 'PM' : 'AM';
            hours = hours % 12;
            hours = hours ? hours : 12; // the hour '0' should be '12'
            const hourStr = String(hours).padStart(2, '0');
            document.getElementById('liveClock').textContent = `${hourStr}:${minutes}:${seconds} ${ampm}`;
        }
        setInterval(updateClock, 1000);
        updateClock();
        </script>
        <script>
        document.addEventListener('DOMContentLoaded', () => {
            const products = [
                { id: 1, name: 'Air Force 1', price: 115.00, image: 'https://static.nike.com/a/images/t_PDP_1280_v1/f_auto,q_auto:eco/2fe4f8a0-a435-4fdf-8b69-d63aa63f1f7b/custom-nike-air-force-1-mid.png' },
                { id: 2, name: 'Nike LunarGlide 6', price: 143.00, image: 'https://www.pngitem.com/pimgs/m/4-40004_transparent-nike-shoe-png-png-download.png' },
                { id: 5, name: 'Air Jordan 1 Retro High OG \'Artisanal Red\'', price: 99, image: 'https://static.nike.com/a/images/t_PDP_936_v1/f_auto,q_auto:eco,u_126ab356-44d8-4a06-89b4-fcdcc8df0245,c_scale,fl_relative,w_1.0,h_1.0,fl_layer_apply/7bc1ba9e-20d2-4cd8-bd3e-7b4739c91312/JORDAN+1+RETRO+HIGH+OG+%28PS%29.png'},
                { id: 6, name: 'Nike Zoom Fly 6', price: 140, image: 'https://static.nike.com/a/images/t_PDP_936_v1/f_auto,q_auto:eco/72fe7a6a-69fe-4db2-88cd-ec7dcabf88b0/ZOOM+FLY+6.png'},
                { id: 7, name: 'Nike Air Zoom TR 1', price: 96, image: 'https://static.nike.com/a/images/t_PDP_936_v1/f_auto,q_auto:eco/9e0de4e1-6862-4d96-9821-94050582defe/M+NIKE+AIR+ZOOM+TR+1.png'},
                { id: 8, name: 'Nike Air Presto ', price: 155, image: 'https://static.nike.com/a/images/t_PDP_1280_v1/f_auto,q_auto:eco/fb7d320f-3baa-4337-81f7-a742e4f5be70/custom-air-presto-by-you.png'}
            ];

            let selectedProducts = [];
            const productsGrid = document.getElementById('productsGrid');
            const selectedCountElement = document.getElementById('selectedCount');
            const addToCartBtn = document.getElementById('addToCartBtn');
            const cartModal = document.getElementById('cartModal');
            const closeCartBtn = document.getElementById('closeCartBtn');
            const continueShoppingLink = document.getElementById('continueShoppingLink');
            const cartItemsContainer = document.getElementById('cartItemsContainer');
            const totalPriceElement = document.getElementById('totalPrice');
            const messageBox = document.getElementById('messageBox');
            
            // Function to show a temporary message
            function showMessage(message) {
                messageBox.textContent = message;
                messageBox.classList.add('show');
                messageBox.classList.remove('invisible');
                setTimeout(() => {
                    messageBox.classList.remove('show');
                    messageBox.classList.add('invisible');
                }, 3000);
            }

            // Function to render products on the page
            function renderProducts() {
                productsGrid.innerHTML = '';
                products.forEach(product => {
                    const productCard = document.createElement('div');
                    productCard.classList.add('product-card', 'product-card-bg', 'p-4', 'rounded-xl', 'shadow-md', 'text-center', 'cursor-pointer', 'transition-transform', 'hover:scale-105');
                    productCard.setAttribute('data-id', product.id);
                    productCard.innerHTML = `
                        <img src="${product.image}" alt="${product.name}" class="w-2/3 mx-auto rounded-lg mb-3">
                        <h3 class="font-semibold text-gray-800">${product.name}</h3>
                        <p class="text-gray-500 text-sm">$${product.price.toFixed(2)}</p>
                    `;
                    productCard.addEventListener('click', () => {
                        const alreadySelected = selectedProducts.find(p => p.id === product.id);
                        if (alreadySelected) {
                            // Deselect
                            selectedProducts = selectedProducts.filter(p => p.id !== product.id);
                            productCard.classList.remove('selected', 'bg-blue-100');
                        } else {
                            // Select
                            selectedProducts.push({ ...product, quantity: 1 });
                            productCard.classList.add('selected', 'bg-blue-100');
                        }
                        updateSelectedCount();
                    });
                    productsGrid.appendChild(productCard);
                });
            }


            // Function to update the selected products count
            function updateSelectedCount() {
                selectedCountElement.textContent = `${selectedProducts.length} selected`;
            }
            

            // Function to render cart items
            function renderCartItems() {
                cartItemsContainer.innerHTML = '';
                let total = 0;

                if (selectedProducts.length === 0) {
                    cartItemsContainer.innerHTML = '<p class="text-center text-gray-500">Your cart is empty.</p>';
                    totalPriceElement.textContent = '$0.00 USD';
                    return;
                }

                selectedProducts.forEach(product => {
                    const cartItem = document.createElement('div');
                    cartItem.classList.add('flex', 'items-center', 'py-3', 'border-b', 'border-gray-100', 'last:border-b-0');
                    
                    const itemTotal = product.price * product.quantity;
                    total += itemTotal;

                    cartItem.innerHTML = `
                        <img src="${product.image}" alt="${product.name}" class="w-16 h-16 rounded-lg mr-4 object-cover">
                        <div class="flex-grow">
                            <h3 class="font-medium text-gray-800">${product.name}</h3>
                            <p class="text-gray-500 text-sm mt-1">Quantity: ${product.quantity}</p>
                            <div class="flex items-center mt-2">
                                <button class="minus-btn bg-gray-200 text-gray-700 w-6 h-6 rounded-md hover:bg-gray-300 transition-colors duration-200" data-id="${product.id}">-</button>
                                <span class="quantity-value mx-2 text-gray-800">${product.quantity}</span>
                                <button class="plus-btn bg-gray-200 text-gray-700 w-6 h-6 rounded-md hover:bg-gray-300 transition-colors duration-200" data-id="${product.id}">+</button>
                            </div>
                        </div>
                        <div class="text-right flex-shrink-0 ml-4">
                            <span class="font-bold text-gray-800">$${itemTotal.toFixed(2)}</span>
                            <button class="delete-btn block text-gray-400 hover:text-red-500 transition-colors duration-200 mt-1" data-id="${product.id}">&times;</button>
                        </div>
                    `;
                    cartItemsContainer.appendChild(cartItem);
                });

                // Update total price and add listeners for plus/minus/delete buttons
                totalPriceElement.textContent = `$${total.toFixed(2)} USD`;
                addCartItemListeners();
            }

            // Add event listeners to the cart item buttons
            function addCartItemListeners() {
                document.querySelectorAll('.minus-btn').forEach(button => {
                    button.addEventListener('click', (e) => {
                        const id = parseInt(e.target.dataset.id);
                        const product = selectedProducts.find(p => p.id === id);
                        if (product && product.quantity > 1) {
                            product.quantity--;
                            renderCartItems();
                        }
                    });
                });

                document.querySelectorAll('.plus-btn').forEach(button => {
                    button.addEventListener('click', (e) => {
                        const id = parseInt(e.target.dataset.id);
                        const product = selectedProducts.find(p => p.id === id);
                        if (product) {
                            product.quantity++;
                            renderCartItems();
                        }
                    });
                });

                document.querySelectorAll('.delete-btn').forEach(button => {
                    button.addEventListener('click', (e) => {
                        const id = parseInt(e.target.dataset.id);
                        selectedProducts = selectedProducts.filter(p => p.id !== id);
                        
                        // Unselect the product on the main page
                        const productCard = document.querySelector(`.product-card.selected[data-id="${id}"]`);
                        if (productCard) {
                            productCard.classList.remove('selected', 'bg-blue-100');
                        }

                        renderCartItems();
                        updateSelectedCount();
                    });
                });
                  document.querySelectorAll('.delete-btn').forEach(button => {
                    button.addEventListener('click', (e) => {
                        const id = parseInt(e.target.dataset.id);
                        selectedProducts = selectedProducts.filter(p => p.id !== id);
                        
                        // Unselect the product on the main page
                        const productCard = document.querySelector(`.product-card.selected[data-id="${id}"]`);
                        if (productCard) {
                            productCard.classList.remove('selected', 'bg-blue-100');
                        }

                        renderCartItems();
                        updateSelectedCount();
                    });
                });
            }

            // Event listeners for showing/hiding the modal
            addToCartBtn.addEventListener('click', () => {
                if (selectedProducts.length > 0) {
                    // Store ALL selected shoes in localStorage as an array
                    localStorage.setItem('selectedProducts', JSON.stringify(selectedProducts));
                    window.location.href = 'checkout.html';
                } else {
                    showMessage('Please select a shoe to checkout.');
                }
            });

            closeCartBtn.addEventListener('click', () => {
                cartModal.style.display = 'none';
            });

            continueShoppingLink.addEventListener('click', (e) => {
                e.preventDefault();
                cartModal.style.display = 'none';
            });
            
            // Close the modal if the user clicks outside of it
            window.addEventListener('click', (event) => {
                if (event.target === cartModal) {
                    cartModal.style.display = 'none';
                }
            });
            document.addEventListener('DOMContentloaded', function(){
                var select = document.getElementById('featured-categories');
                select.addEventListener('change', function(){
                    if (select.value === 'mostbuy'){
                        window.location.href = 'mostbuy.html';
                    } else if (select.value === 'vintage') {
                        window.location.href = 'Vintage.html';
                    }
                });
            });

            // Initial render
            renderProducts();
            updateSelectedCount();
        });
    </script>
</body>
</html>
